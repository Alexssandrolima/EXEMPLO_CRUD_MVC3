CREATE DATABASE CRUD_DB

GO

USE CRUD_DB

GO

CREATE TABLE ALUNO (
ID INT IDENTITY(1,1) NOT NULL PRIMARY KEY
, NOME VARCHAR(510) NOT NULL
, DATA_NASC DATETIME NOT NULL
, RG VARCHAR(12) NOT NULL
, CPF FLOAT NULL
)

GO

CREATE TABLE PROFESSOR (
ID INT IDENTITY(1,1) NOT NULL PRIMARY KEY
, NOME VARCHAR(510) NOT NULL
, CPF FLOAT NOT NULL
)

GO 

CREATE TABLE CURSO (
ID INT IDENTITY(1,1) NOT NULL PRIMARY KEY
, NOME VARCHAR(510) NOT NULL
, DATA_HORA_INICI DATETIME NOT NULL
, DATA_HORA_FINAL DATETIME NOT NULL
)

GO

CREATE TABLE CURSO_ALUNO (
CURSO_ID INT NOT NULL REFERENCES CURSO(ID) 
, ALUNO_ID INT NOT NULL REFERENCES ALUNO(ID) 
, PRIMARY KEY (CURSO_ID, ALUNO_ID)
)

GO

CREATE TABLE PROFESSOR_CURSO (
PROFESSOR_ID INT NOT NULL REFERENCES PROFESSOR(ID) 
, ALUNO_ID INT NOT NULL REFERENCES ALUNO(ID) 
, PRIMARY KEY (PROFESSOR_ID, ALUNO_ID)
)

GO

INSERT INTO CURSO VALUES ('CURSO DE CULINÁRIA', '20120220 13:00', '20120224 17:00')
INSERT INTO CURSO VALUES ('CURSO DE DESENHO', '20120220 17:00', '20120224 20:00')
INSERT INTO CURSO VALUES ('AULAS DE DANÇA', '20120227 13:00', '20120302 17:00')

GO

INSERT INTO ALUNO VALUES ('Alexandre Frota', '19660401', '12.345.678-X', NULL)
INSERT INTO ALUNO VALUES ('Rita Cadilac', '19600401', '66.666.666-6', 12345678901)

GO

INSERT INTO PROFESSOR VALUES ('Austin Powers', 98765432109)